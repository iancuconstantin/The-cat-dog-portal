{"ast":null,"code":"var _jsxFileName = \"/Users/bulatconstantin/Desktop/the-cat-dog-portal/src/pages/upload.jsx\";\nimport React, { useState } from \"react\";\nimport Spinner from 'react-bootstrap/Spinner';\n\nconst Upload = () => {\n  const key = 'ff976317-e0fe-4f51-955b-652d26438b25';\n  const url = 'https://api.thecatapi.com/v1/images/upload';\n  const [selectedFile, setSelectedFile] = useState();\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const uploadImage = async () => {\n    setLoading(true);\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        Accept: 'aplication/json',\n        'x-api-key': key\n      },\n      body: formData\n    });\n\n    if (response.status === 200 || 201) {\n      setLoading(false);\n      setSuccess(true);\n      setTimeout(() => setSuccess(false), 3000);\n    } else {\n      setLoading(false);\n    }\n  };\n\n  const onChange = e => {\n    setSelectedFile(e.target.files[0]);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container d-flex flex-column align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"my-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, \"Upload images\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row p-3 my-3 align-items-center border border-success rounded-pill\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: onChange,\n    type: \"file\",\n    className: \"form-control my-3\",\n    id: \"formFile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: uploadImage,\n    type: \"button\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, \"Upload\"))), loading && /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    variant: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 19\n    }\n  }), success && /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 19\n    }\n  }, \"Uploaded success. You can find your image in My Images\"));\n};\n\nexport default Upload;","map":{"version":3,"sources":["/Users/bulatconstantin/Desktop/the-cat-dog-portal/src/pages/upload.jsx"],"names":["React","useState","Spinner","Upload","key","url","selectedFile","setSelectedFile","loading","setLoading","success","setSuccess","uploadImage","formData","FormData","append","response","fetch","method","headers","Accept","body","status","setTimeout","onChange","e","target","files"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;AACA,OAAOC,OAAP,MAAoB,yBAApB;;AAEA,MAAMC,MAAM,GAAG,MAAM;AACnB,QAAMC,GAAG,GAAG,sCAAZ;AACA,QAAMC,GAAG,GAAG,4CAAZ;AACA,QAAM,CAAEC,YAAF,EAAgBC,eAAhB,IAAmCN,QAAQ,EAAjD;AACA,QAAM,CAACO,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,KAAD,CAAtC;;AAGA,QAAMW,WAAW,GAAG,YAAY;AAC9BH,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,UAAMI,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBT,YAAxB;AACA,UAAMU,QAAQ,GAAG,MAAMC,KAAK,CAACZ,GAAD,EAAK;AAC/Ba,MAAAA,MAAM,EAAE,MADuB;AAE/BC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAC,iBADA;AAEP,qBAAchB;AAFP,OAFsB;AAM/BiB,MAAAA,IAAI,EAAER;AANyB,KAAL,CAA5B;;AAQA,QAAGG,QAAQ,CAACM,MAAT,KAAkB,GAAlB,IAAuB,GAA1B,EAA8B;AAC5Bb,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAE,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAY,MAAAA,UAAU,CAAC,MAAIZ,UAAU,CAAC,KAAD,CAAf,EAAwB,IAAxB,CAAV;AACD,KAJD,MAIO;AACLF,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF,GAnBD;;AAqBA,QAAMe,QAAQ,GAAIC,CAAD,IAAO;AACtBlB,IAAAA,eAAe,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAf;AACD,GAFD;;AAIA,sBACE;AAAK,IAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAEE;AAAK,IAAA,SAAS,EAAC,oEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,QAAQ,EAAEH,QAAjB;AAA2B,IAAA,IAAI,EAAC,MAAhC;AAAuC,IAAA,SAAS,EAAC,mBAAjD;AAAqE,IAAA,EAAE,EAAC,UAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,OAAO,EAAEZ,WAAjB;AAA8B,IAAA,IAAI,EAAC,QAAnC;AAA4C,IAAA,SAAS,EAAC,iBAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CAJF,CAFF,EAUGJ,OAAO,iBAAI,oBAAC,OAAD;AAAS,IAAA,SAAS,EAAC,QAAnB;AAA4B,IAAA,OAAO,EAAC,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVd,EAWGE,OAAO,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8DAXd,CADF;AAeD,CAhDD;;AAkDA,eAAeP,MAAf","sourcesContent":["import React,{useState} from \"react\";\nimport Spinner from 'react-bootstrap/Spinner';\n\nconst Upload = () => {\n  const key = 'ff976317-e0fe-4f51-955b-652d26438b25';\n  const url = 'https://api.thecatapi.com/v1/images/upload';\n  const [ selectedFile, setSelectedFile] = useState();\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n  \n  \n  const uploadImage = async () => {\n    setLoading(true);\n    const formData = new FormData()\n    formData.append('file', selectedFile)\n    const response = await fetch(url,{\n      method: 'POST',\n      headers: {\n        Accept:'aplication/json',\n        'x-api-key' : key\n      },\n      body: formData\n    })\n    if(response.status===200||201){\n      setLoading(false);\n      setSuccess(true);\n      setTimeout(()=>setSuccess(false), 3000);\n    } else {\n      setLoading(false);\n    }\n  }\n\n  const onChange = (e) => {\n    setSelectedFile(e.target.files[0]);\n  }\n\n  return(\n    <div className=\"container d-flex flex-column align-items-center\">\n      <h2 className=\"my-5\">Upload images</h2>\n      <div className=\"row p-3 my-3 align-items-center border border-success rounded-pill\">\n        <div className=\"col-sm-8\">\n          <input onChange={onChange} type=\"file\" className=\"form-control my-3\" id=\"formFile\" />\n        </div>\n        <div className=\"col-sm-4\">\n          <button onClick={uploadImage} type=\"button\" className=\"btn btn-primary\">Upload</button>\n        </div>\n      </div>\n      {loading && <Spinner animation=\"border\" variant=\"primary\" />}\n      {success && <h4>Uploaded success. You can find your image in My Images</h4>}\n    </div>\n    )\n};\n\nexport default Upload;\n"]},"metadata":{},"sourceType":"module"}