{"ast":null,"code":"var _jsxFileName = \"/Users/bulatconstantin/Desktop/the-cat-dog-portal/src/pages/publicImages.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport Button from 'react-bootstrap/Button';\n\nconst PublicImages = () => {\n  const url = 'https://api.thecatapi.com/v1/categories/?limit=20';\n  const key = 'ff976317-e0fe-4f51-955b-652d26438b25';\n  const [categ, setCateg] = useState([]);\n  const [selectedCateg, setSelectedCateg] = useState('');\n  const [selectedNumber, setSelectedNumber] = useState('');\n  const [images, setImages] = useState([]);\n\n  const getCategories = async () => {\n    const response = await fetch(url);\n    const categories = await response.json();\n\n    if (response.status === 200) {\n      setCateg(categories);\n    }\n  };\n\n  const getImages = async () => {\n    const response = await fetch(`https://api.thecatapi.com/v1/images/search/?category_ids=${selectedCateg}&limit=${selectedNumber}`);\n    const images = await response.json();\n\n    if (response.status === 200) {\n      setImages(images);\n    }\n  };\n\n  useEffect(() => {\n    getCategories();\n  }, []);\n\n  const setCategory = value => {\n    setSelectedCateg(value);\n  };\n\n  const setNumber = value => {\n    setSelectedNumber(value);\n  };\n\n  const setFavorites = async id => {\n    document.getElementById(id).setAttribute(\"disabled\", \"true\");\n    const url = 'https://api.thecatapi.com/v1/favourites';\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'x-api-key': key\n      },\n      body: JSON.stringify({\n        image_id: id,\n        sub_id: \"your-user-1234\"\n      })\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container d-flex flex-column align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"my-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, \"Public images\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-columns justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-select mx-2\",\n    \"aria-label\": \"Default select example\",\n    onChange: e => setCategory(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"Select a category...\"), categ.map(item => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: item.id,\n      value: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, item.name);\n  })), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-select mx-2\",\n    \"aria-label\": \"Default select example\",\n    onChange: e => setNumber(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"Select a number of pics...\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"9\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"15\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: getImages,\n    type: \"button\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \"Get Images\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-grid row my-3 gap-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row row-cols-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, images === null || images === void 0 ? void 0 : images.map(image => /*#__PURE__*/React.createElement(\"div\", {\n    key: image.id,\n    className: \"col-4 my-3 d-flex flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"col img-thumbnail\",\n    key: image.id,\n    src: image.url,\n    alt: image.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    id: image.id,\n    onClick: () => setFavorites(image.id),\n    className: \"my-3 w-50 mx-auto btn-sm\",\n    variant: \"outline-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }\n  }, \"Add to FAVORITE\"))))));\n};\n\nexport default PublicImages;","map":{"version":3,"sources":["/Users/bulatconstantin/Desktop/the-cat-dog-portal/src/pages/publicImages.jsx"],"names":["React","useState","useEffect","Button","PublicImages","url","key","categ","setCateg","selectedCateg","setSelectedCateg","selectedNumber","setSelectedNumber","images","setImages","getCategories","response","fetch","categories","json","status","getImages","setCategory","value","setNumber","setFavorites","id","document","getElementById","setAttribute","method","headers","body","JSON","stringify","image_id","sub_id","e","target","map","item","name","image"],"mappings":"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","sourcesContent":["import React,{ useState,useEffect } from \"react\";\nimport Button from 'react-bootstrap/Button';\n\nconst PublicImages = () => {\n  const url = 'https://api.thecatapi.com/v1/categories/?limit=20';\n  const key = 'ff976317-e0fe-4f51-955b-652d26438b25';\n  const [categ, setCateg] = useState([]);\n  const [selectedCateg, setSelectedCateg] = useState('');\n  const [selectedNumber, setSelectedNumber] = useState('');\n  const [images, setImages] = useState([]);\n\n  const getCategories = async () => {\n    const response = await fetch(url);\n    const categories = await response.json();\n    if(response.status===200){\n      setCateg(categories);\n    }\n  }\n\n  const getImages = async () => {\n    const response = await fetch(`https://api.thecatapi.com/v1/images/search/?category_ids=${selectedCateg}&limit=${selectedNumber}`);\n    const images = await response.json();\n    if(response.status===200){\n      setImages(images)\n    }\n  }\n\n  useEffect(()=>{\n    getCategories();\n  },[]);\n\n  const setCategory = (value) =>{\n    setSelectedCateg(value)\n  }\n\n  const setNumber = (value) => {\n    setSelectedNumber(value)\n  }\n\n  const setFavorites = async (id) => {\n    document.getElementById(id).setAttribute(\"disabled\", \"true\");\n    const url = 'https://api.thecatapi.com/v1/favourites';\n    fetch(url,{\n      method:\"POST\",\n      headers: {\n        'Content-Type':'application/json',\n        'x-api-key' : key\n      },\n      body: JSON.stringify({image_id: id, sub_id: \"your-user-1234\"})\n    })\n  }\n\n  return(\n    <div className=\"container d-flex flex-column align-items-center\">\n      <h2 className=\"my-5\">Public images</h2>\n      <div className=\"d-flex flex-columns justify-content-center\">\n\n        <select className=\"form-select mx-2\" aria-label=\"Default select example\" onChange={(e)=>setCategory(e.target.value)}>\n          <option>Select a category...</option>\n          {\n            categ.map(item=>{\n              return(\n                <option key={item.id} value={item.id}>{item.name}</option>\n              )\n            })\n          }\n        </select>\n\n        <select className=\"form-select mx-2\" aria-label=\"Default select example\" onChange={(e)=>setNumber(e.target.value)}>\n          <option>Select a number of pics...</option>\n          <option value=\"3\">3</option>\n          <option value=\"9\">9</option>\n          <option value=\"15\">15</option>\n        </select>\n      </div>\n\n      <div className=\"d-flex justify-content-center my-3\">\n        <button onClick={getImages} type=\"button\" className=\"btn btn-primary\">Get Images</button>\n      </div>\n\n      <div className=\"d-grid row my-3 gap-3\">\n          <div className=\"row row-cols-3\">\n            {\n              images?.map(image=> (\n                <div key={image.id} className=\"col-4 my-3 d-flex flex-column\">\n                  <img className=\"col img-thumbnail\" key={image.id} src={image.url} alt={image.id}/>\n                  <Button id={image.id} onClick={()=>setFavorites(image.id)} className=\"my-3 w-50 mx-auto btn-sm\" variant=\"outline-success\">Add to FAVORITE</Button>\n                </div>\n                )\n              )\n            }\n        </div>\n      </div>\n    </div>\n  )\n};\n\nexport default PublicImages;\n"]},"metadata":{},"sourceType":"module"}